# UI/UXデザイン詳細リファレンス

## 1. タイポグラフィ詳細

### 1.1 フォントサイズ完全対応表

| テキスト要素 | iOS (HIG) | Android (M3) | 解説 |
|-------------|-----------|--------------|------|
| Display / H1 | 34pt (Large Title) | 32sp - 57sp+ | 画面の主要タイトル。スクロール時縮小も一般的 |
| Headline / H2 | 22pt - 28pt | 24sp - 32sp | セクション区切り。視線を強く引きつける |
| Body / 本文 | 17pt | 16sp | **絶対的な基準点。16px未満で可読性が著しく低下** |
| Callout / 補足 | 16pt | 14sp - 16sp | 本文と同等か、わずかに小さい |
| Subhead / 副題 | 15pt | 14sp - 16sp | リストの小見出し。太字で区別することが多い |
| Caption / 注釈 | 12pt - 13pt | 11sp - 12sp | メタデータ（日付、タグ）。12px未満は視認困難 |
| Legal / 免責 | 10pt - 11pt | 10sp - 11sp | 読む頻度が極めて低い法的テキスト |

### 1.2 よくある過ち

PCのデザインツールで全体を俯瞰（Zoom out）して作業すると、16pxが「大きすぎる」と錯覚し14px/12pxに縮小してしまう。**実機確認では16pxは決して大きくない**。

### 1.3 ジャンプ率（Jump Rate）

本文サイズに対する見出しサイズの比率。

**高ジャンプ率（2.0倍以上）**:
- 例：本文16px → 見出し32px以上
- 効果：エネルギッシュ、動的、若々しい
- 適用：ECセール画面、ニュースアプリ、LP

**低ジャンプ率（1.2〜1.5倍）**:
- 例：本文16px → 見出し20-24px
- 効果：知的、落ち着き、高級感
- 適用：銀行アプリ、専門書リーダー、管理画面

**モジュラースケール**:
- 黄金比（1.618）
- 完全四度（1.333）
- 完全五度（1.5）

### 1.4 行間（Line Height）

**欧文**:
- アセンダー/ディセンダーにより上下空間あり
- 推奨：**1.2〜1.5倍**

**和文**:
- 仮想ボディ（em-box）いっぱいに文字設計
- 欧文と同じ設定では窮屈
- 推奨：**1.5〜1.8倍（2.0倍も可）**
- 例：16px本文 → 行送り24-32px

### 1.5 行長（Line Length）

- **英語**: 30-40文字（モバイル）、45-75文字（デスクトップ）
- **日本語**: 15-35文字（スマートフォン）

### 1.6 システムフォント

**iOS**:
- San Francisco (SF): 高視認性サンセリフ
  - SF Pro Text: 19pt以下用
  - SF Pro Display: 20pt以上用（自動切替）
- New York (NY): 知的・伝統的なセリフ体

**Android**:
- Roboto: 幾何学的かつ人間味のある曲線
- Roboto Flex/Serif: 可変フォント対応

### 1.7 Dynamic Type / SP単位

アクセシビリティ対応として必須:
- iOS: Dynamic Type使用
- Android: sp（scalable pixels）使用

固定px単位は避ける。

---

## 2. レイアウト詳細

### 2.1 8ptグリッドの理由

**スケーラビリティ**:
ほとんどのモバイル解像度（@2x, @3x, xhdpi, xxhdpi）は8で割り切れる。縮小・拡大時にハーフピクセル（0.5px）が発生しにくく、シャープなレンダリング。

**認知負荷軽減**:
「余白は8の倍数」という共通言語でデザイナー/エンジニア間の意思決定の迷いを排除。

**視覚的リズム**:
8, 16, 24, 32, 40... という数列が心地よいリズムを生成。

### 2.2 スペーシング詳細

```
4px - 8px  : 極小（アイコンとラベル間、密接関連要素）
16px       : 小（最も一般的なパディング、カード内余白、リスト間）
24px - 32px: 中（セクション間の区切り）
48px - 64px: 大（大きな場面転換、注目要素の周囲）
```

### 2.3 マージン・ガター・カラム

**マージン（Margins）**:
- 画面左右端の余白
- モバイル（360dp基準）: 最小16dp
- 近年トレンド: 20dp / 24dp

**ガター（Gutters）**:
- カラム間の隙間
- モバイル: 通常16dp

**カラム（Columns）**:
- モバイル: 4カラム
- タブレット: 8カラム
- デスクトップ: 12カラム

### 2.4 タップターゲット詳細

**プラットフォーム基準**:
- iOS (Apple HIG): 44pt × 44pt以上
- Android (Material): 48dp × 48dp以上
- 物理サイズ: 約7mm〜10mm

**実装注意**:
視覚的アイコンが24pxでも、Hit Area（クリック領域）は透明パディング含め48px四方を確保。

**フィッツの法則**:
ターゲットが小さいほど到達が困難。十分なサイズと要素間スペースでユーザビリティ向上。

---

## 3. 整列と視覚階層詳細

### 3.1 左揃えの優位性

**視線の流れ**:
横書き言語圏では視線はF字型/Z字型に移動。左端が揃うことでリターンポイントが一定になり、脳の処理負荷軽減。

**中央揃えの問題**:
行頭が不規則になり、視線が行ったり来たりして可読性が劇的に低下。

**中央揃えの例外**:
- 見出し
- 短いキャプション（2-3行以内）
- 装飾的テキスト

**両端揃え禁止**:
狭い画面で両端揃えすると単語間スペースが不自然に広がる「川（Rivers）」現象が発生。

### 3.2 近接の法則

ゲシュタルト心理学：関連するものは近づけ、関係ないものは離す。

**「内部 ≤ 外部」の法則**:
```
内部余白（Internal） ≤ 外部余白（External）
```

例：カード内のテキスト-画像距離（内部）が8pxなら、カード間距離（外部）は16px以上。

視覚的境界線なしで空間だけでグループを認識させる。

---

## 4. アンチパターン詳細

### 4.1 純粋な黒（#000000）

**問題**:
1. 自然界に完全な黒はほぼ存在しない → 人工的で硬い印象
2. OLEDで純黒→他色変化時にピクセル点灯遅延 → Black Smear（滲み・残像）
3. 白背景+純黒文字 → コントラスト強すぎ → ハレーション → 目の疲労

**解決策**:
```
#121212  - 標準ダークグレー
#1A1A1A  - やや明るめ
#333333  - ミディアムダークグレー
ブランドカラーを混ぜたチャコールグレー（青み等）
```

### 4.2 デフォルトのドロップシャドウ

**問題**:
デフォルト（不透明度25%黒、Y=4, Blur=4）は色が濃く、ボカシが足りず人工的で汚い。

**プロのシャドウレシピ**:

1. **色**: 純黒ではなくベースカラーを含んだ濃い色、不透明度10-15%
2. **Y軸とBlurの比率**: Blur = Y軸の2〜4倍
   - 例：Y=4px → Blur=16px
3. **多重レイヤー**: 2-3層の影を重ねる
   - 接地部分の濃く狭い影
   - 全体を包む薄く広い影

```css
/* 例：多重シャドウ */
box-shadow:
  0 1px 3px rgba(0,0,0,0.12),  /* 近い影（濃め） */
  0 4px 16px rgba(0,0,0,0.08); /* 遠い影（薄め） */
```

### 4.3 角丸の不協和音

**問題**:
ネストした箱（カード内ボタン等）で角丸半径が調和していないと視覚的違和感。

**黄金公式**:
```
外側の半径 = 内側の半径 + パディング
```

例：
- 内側ボタン半径: 4px
- パディング: 16px
- → 外側カード半径: **20px**

これで外側と内側のカーブが同心円状になり、完璧な並行曲線を描く。

### 4.4 アイコンスタイルの一貫性欠如

**問題**:
線画（Outline）と塗りつぶし（Filled）の無秩序な混在はUI一貫性を破壊。

**原則**:
- 同一画面・コンテキスト内でスタイル統一
- 線の太さ（Stroke weight）統一（例：すべて1.5px）
- 角の形状（Corner Radius）統一

**例外（許容される混在）**:
ナビゲーションバーで状態変化を表現:
- 通常時 = Outline
- 選択時 = Filled

---

## 5. 色彩設計詳細

### 5.1 60-30-10の法則

インテリアデザイン由来のUI配色バランス:

**60%（ベースカラー）**:
- 画面大部分を占める背景色
- 白、ライトグレー、ダークグレー
- コンテンツを邪魔しないニュートラル

**30%（セカンダリカラー）**:
- ヘッダー、カード背景、見出し
- ブランド個性を表現（主張しすぎない）

**10%（アクセントカラー）**:
- CTAボタン、リンク、通知バッジ、トグルON状態
- 行動を促す最も目立つ色
- 機能的意味を持つ

### 5.2 ダークモードの深度表現

**影の無効化**:
黒背景に黒い影は見えない。

**表面色による高さ表現**:
「光源に近い（高い）要素ほど明るくなる」

```
背景（Lv0）     : #121212
カード（Lv1）   : #1E1E1E
ダイアログ（Lv2）: #2C2C2C
シート（Lv3）   : #383838
```

**オーバーレイ方式**:
ベースダークグレーに白の透明度を重ねる:
```
Lv0: #121212
Lv1: #121212 + 5%白オーバーレイ
Lv2: #121212 + 11%白オーバーレイ
```

### 5.3 アクセシビリティとコントラスト

**WCAG基準値**:
- 通常テキスト: **4.5:1以上**
- 大型テキスト/重要アイコン: **3.0:1以上**

**ダークモード注意点**:
ダーク背景上の高彩度色（純粋な赤/青）は視覚的に振動して見える。
→ パステル調や彩度を落とした色に調整。

---

## 6. プラットフォーム別ガイドライン

### 6.1 Apple Human Interface Guidelines (HIG)

- https://developer.apple.com/design/human-interface-guidelines/
- iOS, iPadOS, macOS, watchOS, tvOS対応
- SF Symbols統合
- Dynamic Type対応必須

### 6.2 Material Design 3 (M3)

- https://m3.material.io/
- Android, Web, Flutter対応
- Dynamic Color対応
- 可変フォント（Roboto Flex）
- 新しいElevation/Tonal系
